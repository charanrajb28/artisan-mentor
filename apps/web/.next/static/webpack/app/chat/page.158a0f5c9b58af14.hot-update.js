"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/chat/page",{

/***/ "(app-pages-browser)/./app/chat/page.tsx":
/*!***************************!*\
  !*** ./app/chat/page.tsx ***!
  \***************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MentorChat; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Bot_MessageSquare_Mic_MicOff_PlusCircle_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,MessageSquare,Mic,MicOff,PlusCircle,Send,User!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-plus.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_MessageSquare_Mic_MicOff_PlusCircle_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,MessageSquare,Mic,MicOff,PlusCircle,Send,User!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/message-square.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_MessageSquare_Mic_MicOff_PlusCircle_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,MessageSquare,Mic,MicOff,PlusCircle,Send,User!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/bot.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_MessageSquare_Mic_MicOff_PlusCircle_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,MessageSquare,Mic,MicOff,PlusCircle,Send,User!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/user.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_MessageSquare_Mic_MicOff_PlusCircle_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,MessageSquare,Mic,MicOff,PlusCircle,Send,User!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/mic-off.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_MessageSquare_Mic_MicOff_PlusCircle_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,MessageSquare,Mic,MicOff,PlusCircle,Send,User!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/mic.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_MessageSquare_Mic_MicOff_PlusCircle_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,MessageSquare,Mic,MicOff,PlusCircle,Send,User!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var react_markdown__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-markdown */ \"(app-pages-browser)/./node_modules/react-markdown/lib/index.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n// const [isListening, setIsListening] = useState(false)\nfunction MentorChat() {\n    _s();\n    const [mentorPrompt, setMentorPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [chatHistory, setChatHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [mentorLoading, setMentorLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mentorError, setMentorError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [chatSessionId, setChatSessionId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [chatSessions, setChatSessions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isListening, setIsListening] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    // Speech Recognition setup\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    const recognition = SpeechRecognition ? new SpeechRecognition() : null;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const token = localStorage.getItem(\"access_token\");\n        if (!token) {\n            router.push(\"/login\");\n            return;\n        }\n        const fetchChatSessions = async ()=>{\n            try {\n                const res = await fetch(\"http://localhost:8000/chat/chats\", {\n                    headers: {\n                        \"Authorization\": \"Bearer \".concat(token)\n                    }\n                });\n                if (!res.ok) {\n                    throw new Error(\"Failed to fetch chat sessions\");\n                }\n                const data = await res.json();\n                setChatSessions(data);\n                if (data.length > 0) {\n                    // Load the first chat session by default\n                    setChatSessionId(data[0].id);\n                    setChatHistory(data[0].messages.map((msg)=>({\n                            sender: msg.sender,\n                            text: msg.text,\n                            time: msg.timestamp ? new Date(msg.timestamp).toLocaleTimeString([], {\n                                hour: \"2-digit\",\n                                minute: \"2-digit\"\n                            }) : new Date().toLocaleTimeString([], {\n                                hour: \"2-digit\",\n                                minute: \"2-digit\"\n                            })\n                        })));\n                } else {\n                    // If no sessions, add a welcome message\n                    setChatHistory([\n                        {\n                            sender: \"mentor\",\n                            text: \"\\uD83D\\uDC4B Welcome! I'm your Artisan Mentor. Ask me about design, creativity, or growth.\",\n                            time: new Date().toLocaleTimeString([], {\n                                hour: \"2-digit\",\n                                minute: \"2-digit\"\n                            })\n                        }\n                    ]);\n                }\n            } catch (error) {\n                setMentorError(error.message || \"Failed to load chat sessions\");\n                router.push(\"/login\");\n            }\n        };\n        fetchChatSessions();\n        if (recognition) {\n            recognition.continuous = false // Listen for a single phrase\n            ;\n            recognition.interimResults = false // Only return final results\n            ;\n            recognition.onresult = (event)=>{\n                const transcript = event.results[0][0].transcript;\n                setMentorPrompt(transcript);\n                setIsListening(false);\n            };\n            recognition.onerror = (event)=>{\n                console.error(\"Speech recognition error:\", event.error);\n                setIsListening(false);\n                setMentorError(\"Voice input error. Please try again.\");\n            };\n            recognition.onend = ()=>{\n                setIsListening(false);\n            };\n        }\n    }, [\n        router,\n        recognition\n    ]) // Added recognition to dependency array\n    ;\n    const toggleListening = ()=>{\n        if (!recognition) {\n            setMentorError(\"Speech recognition not supported in your browser.\");\n            return;\n        }\n        if (isListening) {\n            recognition.stop();\n            setIsListening(false);\n        } else {\n            setMentorError(null);\n            recognition.start();\n            setIsListening(true);\n        }\n    };\n    const createNewChatSession = async ()=>{\n        const token = localStorage.getItem(\"access_token\");\n        if (!token) {\n            router.push(\"/login\");\n            return;\n        }\n        try {\n            const res = await fetch(\"http://localhost:8000/chat/chats\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Bearer \".concat(token)\n                },\n                body: JSON.stringify({\n                    title: \"New Chat \".concat(chatSessions.length + 1)\n                })\n            });\n            if (!res.ok) {\n                throw new Error(\"Failed to create new chat session\");\n            }\n            const newSession = await res.json();\n            setChatSessions((prev)=>[\n                    ...prev,\n                    newSession\n                ]);\n            setChatSessionId(newSession.id);\n            setChatHistory([\n                {\n                    sender: \"mentor\",\n                    text: \"\\uD83D\\uDC4B Welcome! I'm your Artisan Mentor. Ask me about design, creativity, or growth.\",\n                    time: new Date().toLocaleTimeString([], {\n                        hour: \"2-digit\",\n                        minute: \"2-digit\"\n                    })\n                }\n            ]);\n        } catch (error) {\n            setMentorError(error.message || \"Failed to create new chat session\");\n        }\n    };\n    const loadChatSession = async (sessionId)=>{\n        const token = localStorage.getItem(\"access_token\");\n        if (!token) {\n            router.push(\"/login\");\n            return;\n        }\n        try {\n            const res = await fetch(\"http://localhost:8000/chat/chats/\".concat(sessionId), {\n                headers: {\n                    \"Authorization\": \"Bearer \".concat(token)\n                }\n            });\n            if (!res.ok) {\n                throw new Error(\"Failed to load chat session\");\n            }\n            const session = await res.json();\n            setChatSessionId(session.id);\n            setChatHistory(session.messages.map((msg)=>({\n                    sender: msg.sender,\n                    text: msg.text,\n                    time: msg.timestamp ? new Date(msg.timestamp).toLocaleTimeString([], {\n                        hour: \"2-digit\",\n                        minute: \"2-digit\"\n                    }) : new Date().toLocaleTimeString([], {\n                        hour: \"2-digit\",\n                        minute: \"2-digit\"\n                    })\n                })));\n        } catch (error) {\n            setMentorError(error.message || \"Failed to load chat session\");\n        }\n    };\n    const saveChatMessage = async (sessionId, message)=>{\n        const token = localStorage.getItem(\"access_token\");\n        if (!token) {\n            router.push(\"/login\");\n            return;\n        }\n        try {\n            const res = await fetch(\"http://localhost:8000/chat/chats/\".concat(sessionId, \"/messages\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Bearer \".concat(token)\n                },\n                body: JSON.stringify({\n                    sender: message.sender,\n                    text: message.text\n                })\n            });\n            if (!res.ok) {\n                throw new Error(\"Failed to save chat message\");\n            }\n        } catch (error) {\n            console.error(\"Error saving message:\", error);\n        // Optionally set error state, but don't block chat flow\n        }\n    };\n    const getMentorAdvisory = async ()=>{\n        if (!mentorPrompt.trim()) return;\n        if (!chatSessionId) {\n            setMentorError(\"Please select or create a chat session first.\");\n            return;\n        }\n        setMentorLoading(true);\n        setMentorError(null);\n        const userMessage = {\n            sender: \"user\",\n            text: mentorPrompt,\n            time: new Date().toLocaleTimeString([], {\n                hour: \"2-digit\",\n                minute: \"2-digit\"\n            })\n        };\n        setChatHistory((prev)=>[\n                ...prev,\n                userMessage\n            ]);\n        await saveChatMessage(chatSessionId, userMessage) // Save user message\n        ;\n        try {\n            const token = localStorage.getItem(\"access_token\");\n            if (!token) {\n                throw new Error(\"Authentication token not found. Please log in.\");\n            }\n            const res = await fetch(\"http://127.0.0.1:8000/mentor/advise\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Bearer \".concat(token)\n                },\n                body: JSON.stringify({\n                    prompt: mentorPrompt,\n                    chat_id: chatSessionId\n                })\n            });\n            if (!res.ok) {\n                const errorData = await res.json();\n                throw new Error(errorData.detail || errorData.message || \"Failed to get mentor advisory\");\n            }\n            const data = await res.json();\n            const mentorMessage = {\n                sender: \"mentor\",\n                text: data.response,\n                time: new Date().toLocaleTimeString([], {\n                    hour: \"2-digit\",\n                    minute: \"2-digit\"\n                })\n            };\n            setChatHistory((prev)=>[\n                    ...prev,\n                    mentorMessage\n                ]);\n            await saveChatMessage(chatSessionId, mentorMessage) // Save mentor message\n            ;\n            setMentorPrompt(\"\");\n        } catch (error) {\n            setMentorError(error.message || \"An unknown error occurred\");\n            if (error.message.includes(\"Authentication token not found\") || error.message.includes(\"Could not validate credentials\")) {\n                router.push(\"/login\");\n            }\n        } finally{\n            setMentorLoading(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gradient-to-br from-blue-100 to-blue-300 flex p-4\",\n        children: [\n            \" \",\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-64 bg-white rounded-2xl shadow-2xl overflow-hidden flex flex-col mr-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gradient-to-r from-blue-700 to-blue-900 text-white p-4 flex items-center justify-between\",\n                        children: [\n                            \" \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-lg font-semibold\",\n                                children: \"Chats\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 278,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: createNewChatSession,\n                                className: \"p-1 rounded-full hover:bg-white hover:bg-opacity-20 transition\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_MessageSquare_Mic_MicOff_PlusCircle_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                    className: \"h-6 w-6\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                    lineNumber: 280,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 279,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                        lineNumber: 277,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 overflow-y-auto p-2 space-y-2\",\n                        children: chatSessions.map((session)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>loadChatSession(session.id),\n                                className: \"w-full text-left p-2 rounded-lg flex items-center gap-2 \".concat(chatSessionId === session.id ? \"bg-blue-100 text-blue-800\" : \"hover:bg-gray-100\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_MessageSquare_Mic_MicOff_PlusCircle_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                        className: \"h-5 w-5\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                        lineNumber: 292,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-sm font-medium truncate\",\n                                        children: session.title\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                        lineNumber: 293,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, session.id, true, {\n                                fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 285,\n                                columnNumber: 13\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                        lineNumber: 283,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                lineNumber: 276,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 w-full max-w-2xl bg-white rounded-2xl shadow-2xl overflow-hidden flex flex-col\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gradient-to-r from-blue-700 to-blue-900 text-white p-4 flex items-center gap-3\",\n                        children: [\n                            \" \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_MessageSquare_Mic_MicOff_PlusCircle_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                className: \"h-7 w-7\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 303,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                        className: \"text-lg font-semibold\",\n                                        children: \"Artisan Mentor\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                        lineNumber: 305,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm opacity-80\",\n                                        children: \"Your personal creative guide\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                        lineNumber: 306,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 304,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                        lineNumber: 302,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50\",\n                        children: [\n                            chatHistory.map((msg, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex \".concat(msg.sender === \"user\" ? \"justify-end\" : \"justify-start\"),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"max-w-sm px-4 py-2 rounded-2xl shadow-md relative \".concat(msg.sender === \"user\" ? \"bg-blue-600 text-white rounded-br-none\" // User message blue\n                                         : \"bg-white border text-gray-800 rounded-bl-none\"),\n                                        children: [\n                                            msg.sender === \"mentor\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_MessageSquare_Mic_MicOff_PlusCircle_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                                className: \"absolute -top-3 -left-3 h-6 w-6 text-blue-700 bg-white rounded-full shadow-md\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                                lineNumber: 321,\n                                                columnNumber: 45\n                                            }, this),\n                                            msg.sender === \"user\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_MessageSquare_Mic_MicOff_PlusCircle_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                className: \"absolute -top-3 -right-3 h-6 w-6 text-blue-600 bg-white rounded-full shadow-md\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                                lineNumber: 322,\n                                                columnNumber: 43\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"prose prose-sm max-w-none\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_markdown__WEBPACK_IMPORTED_MODULE_7__.Markdown, {\n                                                    children: msg.text\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                                    lineNumber: 324,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                                lineNumber: 323,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"block text-xs opacity-70 mt-1 text-right\",\n                                                children: msg.time\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                                lineNumber: 326,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                        lineNumber: 314,\n                                        columnNumber: 15\n                                    }, this)\n                                }, idx, false, {\n                                    fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                    lineNumber: 313,\n                                    columnNumber: 13\n                                }, this)),\n                            mentorLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-gray-500 text-sm animate-pulse\",\n                                children: \"Mentor is thinking...\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 330,\n                                columnNumber: 29\n                            }, this),\n                            mentorError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-red-500 text-sm\",\n                                children: [\n                                    \"Error: \",\n                                    mentorError\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 331,\n                                columnNumber: 27\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                        lineNumber: 311,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"border-t bg-white flex items-center p-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"text\",\n                                value: mentorPrompt,\n                                onChange: (e)=>setMentorPrompt(e.target.value),\n                                onKeyDown: (e)=>e.key === \"Enter\" && getMentorAdvisory(),\n                                placeholder: \"Ask your mentor...\",\n                                className: \"flex-1 border rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400\",\n                                disabled: mentorLoading || chatSessionId === null\n                            }, void 0, false, {\n                                fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 336,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: toggleListening,\n                                disabled: mentorLoading || chatSessionId === null || !recognition,\n                                className: \"ml-2 p-2 rounded-full shadow-lg transition \".concat(isListening ? \"bg-red-500 hover:bg-red-600\" : \"bg-blue-500 hover:bg-blue-600\", \" text-white\"),\n                                children: isListening ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_MessageSquare_Mic_MicOff_PlusCircle_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                    className: \"h-5 w-5\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                    lineNumber: 352,\n                                    columnNumber: 28\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_MessageSquare_Mic_MicOff_PlusCircle_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                    className: \"h-5 w-5\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                    lineNumber: 352,\n                                    columnNumber: 61\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 345,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: getMentorAdvisory,\n                                disabled: mentorLoading || chatSessionId === null,\n                                className: \"ml-2 bg-blue-700 hover:bg-blue-800 text-white p-2 rounded-full shadow-lg transition\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_MessageSquare_Mic_MicOff_PlusCircle_Send_User_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                    className: \"h-5 w-5\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                    lineNumber: 359,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                                lineNumber: 354,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                        lineNumber: 335,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gray-100 text-xs text-gray-600 p-2 text-center\",\n                        children: '\\uD83D\\uDCA1 Try asking: \"How can I grow as a creative?\" or \"Give me a minimal design idea.\"'\n                    }, void 0, false, {\n                        fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                        lineNumber: 364,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n                lineNumber: 300,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\genai\\\\models\\\\artisan-mentor\\\\apps\\\\web\\\\app\\\\chat\\\\page.tsx\",\n        lineNumber: 274,\n        columnNumber: 3\n    }, this);\n}\n_s(MentorChat, \"6JsrcFx9D7xQwg7WwMOU+U9ZR+I=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = MentorChat;\nvar _c;\n$RefreshReg$(_c, \"MentorChat\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVU7a0NBQW9EOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNM0U7R0FqVndCbEY7O1FBUVBELHNEQUFTQTs7O0tBUkZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2FwcC9jaGF0L3BhZ2UudHN4PzhmNTkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFNlbmQsIFVzZXIsIEJvdCwgUGx1c0NpcmNsZSwgTWVzc2FnZVNxdWFyZSwgTWljLCBNaWNPZmYgfSBmcm9tICdsdWNpZGUtcmVhY3QnXG5pbXBvcnQgUmVhY3RNYXJrZG93biBmcm9tICdyZWFjdC1tYXJrZG93bidcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbidcblxuaW50ZXJmYWNlIENoYXRNZXNzYWdlIHtcbiAgc2VuZGVyOiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZztcbiAgdGltZTogc3RyaW5nO1xuICB0aW1lc3RhbXA/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBDaGF0U2Vzc2lvbiB7XG4gIGlkOiBudW1iZXI7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIG93bmVyX2lkOiBudW1iZXI7XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgbWVzc2FnZXM6IENoYXRNZXNzYWdlW107XG59XG5cbi8vIERlY2xhcmUgU3BlZWNoUmVjb2duaXRpb24gYW5kIHdlYmtpdFNwZWVjaFJlY29nbml0aW9uIGdsb2JhbGx5XG5kZWNsYXJlIGdsb2JhbCB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIFNwZWVjaFJlY29nbml0aW9uOiBhbnk7XG4gICAgd2Via2l0U3BlZWNoUmVjb2duaXRpb246IGFueTtcbiAgfVxufVxuICAvLyBjb25zdCBbaXNMaXN0ZW5pbmcsIHNldElzTGlzdGVuaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNZW50b3JDaGF0KCkge1xuICBjb25zdCBbbWVudG9yUHJvbXB0LCBzZXRNZW50b3JQcm9tcHRdID0gdXNlU3RhdGUoJycpXG4gIGNvbnN0IFtjaGF0SGlzdG9yeSwgc2V0Q2hhdEhpc3RvcnldID0gdXNlU3RhdGU8Q2hhdE1lc3NhZ2VbXT4oW10pXG4gIGNvbnN0IFttZW50b3JMb2FkaW5nLCBzZXRNZW50b3JMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbbWVudG9yRXJyb3IsIHNldE1lbnRvckVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtjaGF0U2Vzc2lvbklkLCBzZXRDaGF0U2Vzc2lvbklkXSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtjaGF0U2Vzc2lvbnMsIHNldENoYXRTZXNzaW9uc10gPSB1c2VTdGF0ZTxDaGF0U2Vzc2lvbltdPihbXSlcbiAgIGNvbnN0IFtpc0xpc3RlbmluZywgc2V0SXNMaXN0ZW5pbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKVxuXG4gIC8vIFNwZWVjaCBSZWNvZ25pdGlvbiBzZXR1cFxuICBjb25zdCBTcGVlY2hSZWNvZ25pdGlvbiA9IHdpbmRvdy5TcGVlY2hSZWNvZ25pdGlvbiB8fCB3aW5kb3cud2Via2l0U3BlZWNoUmVjb2duaXRpb25cbiAgY29uc3QgcmVjb2duaXRpb24gPSBTcGVlY2hSZWNvZ25pdGlvbiA/IG5ldyBTcGVlY2hSZWNvZ25pdGlvbigpIDogbnVsbFxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzX3Rva2VuJylcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICByb3V0ZXIucHVzaCgnL2xvZ2luJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGZldGNoQ2hhdFNlc3Npb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9jaGF0L2NoYXRzJywge1xuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBjaGF0IHNlc3Npb25zJylcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhOiBDaGF0U2Vzc2lvbltdID0gYXdhaXQgcmVzLmpzb24oKVxuICAgICAgICBzZXRDaGF0U2Vzc2lvbnMoZGF0YSlcbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vIExvYWQgdGhlIGZpcnN0IGNoYXQgc2Vzc2lvbiBieSBkZWZhdWx0XG4gICAgICAgICAgc2V0Q2hhdFNlc3Npb25JZChkYXRhWzBdLmlkKVxuICAgICAgICAgIHNldENoYXRIaXN0b3J5KGRhdGFbMF0ubWVzc2FnZXMubWFwKG1zZyA9PiAoe1xuICAgICAgICAgICAgc2VuZGVyOiBtc2cuc2VuZGVyLFxuICAgICAgICAgICAgdGV4dDogbXNnLnRleHQsXG4gICAgICAgICAgICB0aW1lOiBtc2cudGltZXN0YW1wID8gbmV3IERhdGUobXNnLnRpbWVzdGFtcCkudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7IGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCcgfSkgOiBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pLFxuICAgICAgICAgIH0pKSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBJZiBubyBzZXNzaW9ucywgYWRkIGEgd2VsY29tZSBtZXNzYWdlXG4gICAgICAgICAgc2V0Q2hhdEhpc3RvcnkoW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzZW5kZXI6ICdtZW50b3InLFxuICAgICAgICAgICAgICB0ZXh0OiBcIvCfkYsgV2VsY29tZSEgSSdtIHlvdXIgQXJ0aXNhbiBNZW50b3IuIEFzayBtZSBhYm91dCBkZXNpZ24sIGNyZWF0aXZpdHksIG9yIGdyb3d0aC5cIixcbiAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICBzZXRNZW50b3JFcnJvcihlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gbG9hZCBjaGF0IHNlc3Npb25zJylcbiAgICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpXG4gICAgICB9XG4gICAgfVxuXG4gICAgZmV0Y2hDaGF0U2Vzc2lvbnMoKVxuXG4gICAgaWYgKHJlY29nbml0aW9uKSB7XG4gICAgICByZWNvZ25pdGlvbi5jb250aW51b3VzID0gZmFsc2UgLy8gTGlzdGVuIGZvciBhIHNpbmdsZSBwaHJhc2VcbiAgICAgIHJlY29nbml0aW9uLmludGVyaW1SZXN1bHRzID0gZmFsc2UgLy8gT25seSByZXR1cm4gZmluYWwgcmVzdWx0c1xuXG4gICAgICByZWNvZ25pdGlvbi5vbnJlc3VsdCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0cmFuc2NyaXB0ID0gZXZlbnQucmVzdWx0c1swXVswXS50cmFuc2NyaXB0XG4gICAgICAgIHNldE1lbnRvclByb21wdCh0cmFuc2NyaXB0KVxuICAgICAgICBzZXRJc0xpc3RlbmluZyhmYWxzZSlcbiAgICAgIH1cblxuICAgICAgcmVjb2duaXRpb24ub25lcnJvciA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTcGVlY2ggcmVjb2duaXRpb24gZXJyb3I6JywgZXZlbnQuZXJyb3IpXG4gICAgICAgIHNldElzTGlzdGVuaW5nKGZhbHNlKVxuICAgICAgICBzZXRNZW50b3JFcnJvcignVm9pY2UgaW5wdXQgZXJyb3IuIFBsZWFzZSB0cnkgYWdhaW4uJylcbiAgICAgIH1cblxuICAgICAgcmVjb2duaXRpb24ub25lbmQgPSAoKSA9PiB7XG4gICAgICAgIHNldElzTGlzdGVuaW5nKGZhbHNlKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW3JvdXRlciwgcmVjb2duaXRpb25dKSAvLyBBZGRlZCByZWNvZ25pdGlvbiB0byBkZXBlbmRlbmN5IGFycmF5XG5cbiAgY29uc3QgdG9nZ2xlTGlzdGVuaW5nID0gKCkgPT4ge1xuICAgIGlmICghcmVjb2duaXRpb24pIHtcbiAgICAgIHNldE1lbnRvckVycm9yKCdTcGVlY2ggcmVjb2duaXRpb24gbm90IHN1cHBvcnRlZCBpbiB5b3VyIGJyb3dzZXIuJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAoaXNMaXN0ZW5pbmcpIHtcbiAgICAgIHJlY29nbml0aW9uLnN0b3AoKVxuICAgICAgc2V0SXNMaXN0ZW5pbmcoZmFsc2UpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgc2V0TWVudG9yRXJyb3IobnVsbClcbiAgICAgIHJlY29nbml0aW9uLnN0YXJ0KClcbiAgICAgIHNldElzTGlzdGVuaW5nKHRydWUpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgY3JlYXRlTmV3Q2hhdFNlc3Npb24gPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzX3Rva2VuJylcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICByb3V0ZXIucHVzaCgnL2xvZ2luJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9jaGF0L2NoYXRzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB0aXRsZTogYE5ldyBDaGF0ICR7Y2hhdFNlc3Npb25zLmxlbmd0aCArIDF9YCB9KSwgLy8gRGVmYXVsdCB0aXRsZVxuICAgICAgfSlcbiAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBuZXcgY2hhdCBzZXNzaW9uJylcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld1Nlc3Npb246IENoYXRTZXNzaW9uID0gYXdhaXQgcmVzLmpzb24oKVxuICAgICAgc2V0Q2hhdFNlc3Npb25zKChwcmV2KSA9PiBbLi4ucHJldiwgbmV3U2Vzc2lvbl0pXG4gICAgICBzZXRDaGF0U2Vzc2lvbklkKG5ld1Nlc3Npb24uaWQpXG4gICAgICBzZXRDaGF0SGlzdG9yeShbXG4gICAgICAgIHtcbiAgICAgICAgICBzZW5kZXI6ICdtZW50b3InLFxuICAgICAgICAgIHRleHQ6IFwi8J+RiyBXZWxjb21lISBJJ20geW91ciBBcnRpc2FuIE1lbnRvci4gQXNrIG1lIGFib3V0IGRlc2lnbiwgY3JlYXRpdml0eSwgb3IgZ3Jvd3RoLlwiLFxuICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7IGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCcgfSksXG4gICAgICAgIH0sXG4gICAgICBdKVxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHNldE1lbnRvckVycm9yKGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgbmV3IGNoYXQgc2Vzc2lvbicpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgbG9hZENoYXRTZXNzaW9uID0gYXN5bmMgKHNlc3Npb25JZDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzX3Rva2VuJylcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICByb3V0ZXIucHVzaCgnL2xvZ2luJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9jaGF0L2NoYXRzLyR7c2Vzc2lvbklkfWAsIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBjaGF0IHNlc3Npb24nKVxuICAgICAgfVxuICAgICAgY29uc3Qgc2Vzc2lvbjogQ2hhdFNlc3Npb24gPSBhd2FpdCByZXMuanNvbigpXG4gICAgICBzZXRDaGF0U2Vzc2lvbklkKHNlc3Npb24uaWQpXG4gICAgICBzZXRDaGF0SGlzdG9yeShzZXNzaW9uLm1lc3NhZ2VzLm1hcChtc2cgPT4gKHtcbiAgICAgICAgc2VuZGVyOiBtc2cuc2VuZGVyLFxuICAgICAgICB0ZXh0OiBtc2cudGV4dCxcbiAgICAgICAgdGltZTogbXNnLnRpbWVzdGFtcCA/IG5ldyBEYXRlKG1zZy50aW1lc3RhbXApLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pIDogbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KSxcbiAgICAgIH0pKSlcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBzZXRNZW50b3JFcnJvcihlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gbG9hZCBjaGF0IHNlc3Npb24nKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHNhdmVDaGF0TWVzc2FnZSA9IGFzeW5jIChzZXNzaW9uSWQ6IG51bWJlciwgbWVzc2FnZTogQ2hhdE1lc3NhZ2UpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NfdG9rZW4nKVxuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDo4MDAwL2NoYXQvY2hhdHMvJHtzZXNzaW9uSWR9L21lc3NhZ2VzYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzZW5kZXI6IG1lc3NhZ2Uuc2VuZGVyLCB0ZXh0OiBtZXNzYWdlLnRleHQgfSksXG4gICAgICB9KVxuICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc2F2ZSBjaGF0IG1lc3NhZ2UnKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBtZXNzYWdlOicsIGVycm9yKVxuICAgICAgLy8gT3B0aW9uYWxseSBzZXQgZXJyb3Igc3RhdGUsIGJ1dCBkb24ndCBibG9jayBjaGF0IGZsb3dcbiAgICB9XG4gIH1cblxuICBjb25zdCBnZXRNZW50b3JBZHZpc29yeSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIW1lbnRvclByb21wdC50cmltKCkpIHJldHVyblxuICAgIGlmICghY2hhdFNlc3Npb25JZCkge1xuICAgICAgc2V0TWVudG9yRXJyb3IoJ1BsZWFzZSBzZWxlY3Qgb3IgY3JlYXRlIGEgY2hhdCBzZXNzaW9uIGZpcnN0LicpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBzZXRNZW50b3JMb2FkaW5nKHRydWUpXG4gICAgc2V0TWVudG9yRXJyb3IobnVsbClcblxuICAgIGNvbnN0IHVzZXJNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcbiAgICAgIHNlbmRlcjogJ3VzZXInLFxuICAgICAgdGV4dDogbWVudG9yUHJvbXB0LFxuICAgICAgdGltZTogbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KSxcbiAgICB9XG5cbiAgICBzZXRDaGF0SGlzdG9yeSgocHJldikgPT4gWy4uLnByZXYsIHVzZXJNZXNzYWdlXSlcbiAgICBhd2FpdCBzYXZlQ2hhdE1lc3NhZ2UoY2hhdFNlc3Npb25JZCwgdXNlck1lc3NhZ2UpIC8vIFNhdmUgdXNlciBtZXNzYWdlXG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzX3Rva2VuJylcbiAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdXRoZW50aWNhdGlvbiB0b2tlbiBub3QgZm91bmQuIFBsZWFzZSBsb2cgaW4uJylcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9tZW50b3IvYWR2aXNlYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwcm9tcHQ6IG1lbnRvclByb21wdCwgY2hhdF9pZDogY2hhdFNlc3Npb25JZCB9KSwgLy8gUGFzcyBjaGF0X2lkXG4gICAgICB9KVxuXG4gICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXMuanNvbigpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZGV0YWlsIHx8IGVycm9yRGF0YS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZ2V0IG1lbnRvciBhZHZpc29yeScpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpXG4gICAgICBjb25zdCBtZW50b3JNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcbiAgICAgICAgc2VuZGVyOiAnbWVudG9yJyxcbiAgICAgICAgdGV4dDogZGF0YS5yZXNwb25zZSxcbiAgICAgICAgdGltZTogbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KSxcbiAgICAgIH1cblxuICAgICAgc2V0Q2hhdEhpc3RvcnkoKHByZXYpID0+IFsuLi5wcmV2LCBtZW50b3JNZXNzYWdlXSlcbiAgICAgIGF3YWl0IHNhdmVDaGF0TWVzc2FnZShjaGF0U2Vzc2lvbklkLCBtZW50b3JNZXNzYWdlKSAvLyBTYXZlIG1lbnRvciBtZXNzYWdlXG4gICAgICBzZXRNZW50b3JQcm9tcHQoJycpXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgc2V0TWVudG9yRXJyb3IoZXJyb3IubWVzc2FnZSB8fCAnQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCcpXG4gICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnQXV0aGVudGljYXRpb24gdG9rZW4gbm90IGZvdW5kJykgfHwgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnQ291bGQgbm90IHZhbGlkYXRlIGNyZWRlbnRpYWxzJykpIHtcbiAgICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpXG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldE1lbnRvckxvYWRpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTEwMCB0by1ibHVlLTMwMCBmbGV4IHAtNFwiPiB7LyogQmx1ZSBzaGFkZXMgKi99XG4gICAgICB7LyogU2lkZWJhciBmb3IgY2hhdCBzZXNzaW9ucyAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy02NCBiZy13aGl0ZSByb3VuZGVkLTJ4bCBzaGFkb3ctMnhsIG92ZXJmbG93LWhpZGRlbiBmbGV4IGZsZXgtY29sIG1yLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS03MDAgdG8tYmx1ZS05MDAgdGV4dC13aGl0ZSBwLTQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+IHsvKiBEYXJrZXIgYmx1ZSAqL31cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkXCI+Q2hhdHM8L2gyPlxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17Y3JlYXRlTmV3Q2hhdFNlc3Npb259IGNsYXNzTmFtZT1cInAtMSByb3VuZGVkLWZ1bGwgaG92ZXI6Ymctd2hpdGUgaG92ZXI6Ymctb3BhY2l0eS0yMCB0cmFuc2l0aW9uXCI+XG4gICAgICAgICAgICA8UGx1c0NpcmNsZSBjbGFzc05hbWU9XCJoLTYgdy02XCIgLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTIgc3BhY2UteS0yXCI+XG4gICAgICAgICAge2NoYXRTZXNzaW9ucy5tYXAoKHNlc3Npb24pID0+IChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAga2V5PXtzZXNzaW9uLmlkfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBsb2FkQ2hhdFNlc3Npb24oc2Vzc2lvbi5pZCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCB0ZXh0LWxlZnQgcC0yIHJvdW5kZWQtbGcgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgJHtcbiAgICAgICAgICAgICAgICBjaGF0U2Vzc2lvbklkID09PSBzZXNzaW9uLmlkID8gJ2JnLWJsdWUtMTAwIHRleHQtYmx1ZS04MDAnIDogJ2hvdmVyOmJnLWdyYXktMTAwJ1xuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPE1lc3NhZ2VTcXVhcmUgY2xhc3NOYW1lPVwiaC01IHctNVwiIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdHJ1bmNhdGVcIj57c2Vzc2lvbi50aXRsZX08L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIE1haW4gQ2hhdCBXaW5kb3cgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSB3LWZ1bGwgbWF4LXctMnhsIGJnLXdoaXRlIHJvdW5kZWQtMnhsIHNoYWRvdy0yeGwgb3ZlcmZsb3ctaGlkZGVuIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS03MDAgdG8tYmx1ZS05MDAgdGV4dC13aGl0ZSBwLTQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj4gey8qIERhcmtlciBibHVlICovfVxuICAgICAgICAgIDxCb3QgY2xhc3NOYW1lPVwiaC03IHctN1wiIC8+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGRcIj5BcnRpc2FuIE1lbnRvcjwvaDE+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIG9wYWNpdHktODBcIj5Zb3VyIHBlcnNvbmFsIGNyZWF0aXZlIGd1aWRlPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogQ2hhdCBXaW5kb3cgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTQgc3BhY2UteS00IGJnLWdyYXktNTBcIj5cbiAgICAgICAgICB7Y2hhdEhpc3RvcnkubWFwKChtc2csIGlkeCkgPT4gKFxuICAgICAgICAgICAgPGRpdiBrZXk9e2lkeH0gY2xhc3NOYW1lPXtgZmxleCAke21zZy5zZW5kZXIgPT09ICd1c2VyJyA/ICdqdXN0aWZ5LWVuZCcgOiAnanVzdGlmeS1zdGFydCd9YH0+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BtYXgtdy1zbSBweC00IHB5LTIgcm91bmRlZC0yeGwgc2hhZG93LW1kIHJlbGF0aXZlICR7XG4gICAgICAgICAgICAgICAgICBtc2cuc2VuZGVyID09PSAndXNlcidcbiAgICAgICAgICAgICAgICAgICAgPyAnYmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLWJyLW5vbmUnIC8vIFVzZXIgbWVzc2FnZSBibHVlXG4gICAgICAgICAgICAgICAgICAgIDogJ2JnLXdoaXRlIGJvcmRlciB0ZXh0LWdyYXktODAwIHJvdW5kZWQtYmwtbm9uZSdcbiAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHttc2cuc2VuZGVyID09PSAnbWVudG9yJyAmJiA8Qm90IGNsYXNzTmFtZT1cImFic29sdXRlIC10b3AtMyAtbGVmdC0zIGgtNiB3LTYgdGV4dC1ibHVlLTcwMCBiZy13aGl0ZSByb3VuZGVkLWZ1bGwgc2hhZG93LW1kXCIgLz59XG4gICAgICAgICAgICAgICAge21zZy5zZW5kZXIgPT09ICd1c2VyJyAmJiA8VXNlciBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtdG9wLTMgLXJpZ2h0LTMgaC02IHctNiB0ZXh0LWJsdWUtNjAwIGJnLXdoaXRlIHJvdW5kZWQtZnVsbCBzaGFkb3ctbWRcIiAvPn1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb3NlIHByb3NlLXNtIG1heC13LW5vbmVcIj5cbiAgICAgICAgICAgICAgICAgIDxSZWFjdE1hcmtkb3duPnttc2cudGV4dH08L1JlYWN0TWFya2Rvd24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyBvcGFjaXR5LTcwIG10LTEgdGV4dC1yaWdodFwiPnttc2cudGltZX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgICAge21lbnRvckxvYWRpbmcgJiYgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIHRleHQtc20gYW5pbWF0ZS1wdWxzZVwiPk1lbnRvciBpcyB0aGlua2luZy4uLjwvZGl2Pn1cbiAgICAgICAgICB7bWVudG9yRXJyb3IgJiYgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC01MDAgdGV4dC1zbVwiPkVycm9yOiB7bWVudG9yRXJyb3J9PC9kaXY+fVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogSW5wdXQgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYmctd2hpdGUgZmxleCBpdGVtcy1jZW50ZXIgcC0zXCI+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICB2YWx1ZT17bWVudG9yUHJvbXB0fVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRNZW50b3JQcm9tcHQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4gZS5rZXkgPT09ICdFbnRlcicgJiYgZ2V0TWVudG9yQWR2aXNvcnkoKX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQXNrIHlvdXIgbWVudG9yLi4uXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBib3JkZXIgcm91bmRlZC1mdWxsIHB4LTQgcHktMiBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS00MDBcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e21lbnRvckxvYWRpbmcgfHwgY2hhdFNlc3Npb25JZCA9PT0gbnVsbH1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZUxpc3RlbmluZ30gLy8gVm9pY2UgaW5wdXQgYnV0dG9uXG4gICAgICAgICAgICBkaXNhYmxlZD17bWVudG9yTG9hZGluZyB8fCBjaGF0U2Vzc2lvbklkID09PSBudWxsIHx8ICFyZWNvZ25pdGlvbn1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YG1sLTIgcC0yIHJvdW5kZWQtZnVsbCBzaGFkb3ctbGcgdHJhbnNpdGlvbiAke1xuICAgICAgICAgICAgICBpc0xpc3RlbmluZyA/ICdiZy1yZWQtNTAwIGhvdmVyOmJnLXJlZC02MDAnIDogJ2JnLWJsdWUtNTAwIGhvdmVyOmJnLWJsdWUtNjAwJ1xuICAgICAgICAgICAgfSB0ZXh0LXdoaXRlYH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aXNMaXN0ZW5pbmcgPyA8TWljT2ZmIGNsYXNzTmFtZT1cImgtNSB3LTVcIiAvPiA6IDxNaWMgY2xhc3NOYW1lPVwiaC01IHctNVwiIC8+fVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2dldE1lbnRvckFkdmlzb3J5fVxuICAgICAgICAgICAgZGlzYWJsZWQ9e21lbnRvckxvYWRpbmcgfHwgY2hhdFNlc3Npb25JZCA9PT0gbnVsbH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLTIgYmctYmx1ZS03MDAgaG92ZXI6YmctYmx1ZS04MDAgdGV4dC13aGl0ZSBwLTIgcm91bmRlZC1mdWxsIHNoYWRvdy1sZyB0cmFuc2l0aW9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8U2VuZCBjbGFzc05hbWU9XCJoLTUgdy01XCIgLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIEZvb3RlciAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTEwMCB0ZXh0LXhzIHRleHQtZ3JheS02MDAgcC0yIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAg8J+SoSBUcnkgYXNraW5nOiBcIkhvdyBjYW4gSSBncm93IGFzIGEgY3JlYXRpdmU/XCIgb3IgXCJHaXZlIG1lIGEgbWluaW1hbCBkZXNpZ24gaWRlYS5cIlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiU2VuZCIsIlVzZXIiLCJCb3QiLCJQbHVzQ2lyY2xlIiwiTWVzc2FnZVNxdWFyZSIsIk1pYyIsIk1pY09mZiIsIlJlYWN0TWFya2Rvd24iLCJ1c2VSb3V0ZXIiLCJNZW50b3JDaGF0IiwibWVudG9yUHJvbXB0Iiwic2V0TWVudG9yUHJvbXB0IiwiY2hhdEhpc3RvcnkiLCJzZXRDaGF0SGlzdG9yeSIsIm1lbnRvckxvYWRpbmciLCJzZXRNZW50b3JMb2FkaW5nIiwibWVudG9yRXJyb3IiLCJzZXRNZW50b3JFcnJvciIsImNoYXRTZXNzaW9uSWQiLCJzZXRDaGF0U2Vzc2lvbklkIiwiY2hhdFNlc3Npb25zIiwic2V0Q2hhdFNlc3Npb25zIiwiaXNMaXN0ZW5pbmciLCJzZXRJc0xpc3RlbmluZyIsInJvdXRlciIsIlNwZWVjaFJlY29nbml0aW9uIiwid2luZG93Iiwid2Via2l0U3BlZWNoUmVjb2duaXRpb24iLCJyZWNvZ25pdGlvbiIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInB1c2giLCJmZXRjaENoYXRTZXNzaW9ucyIsInJlcyIsImZldGNoIiwiaGVhZGVycyIsIm9rIiwiRXJyb3IiLCJkYXRhIiwianNvbiIsImxlbmd0aCIsImlkIiwibWVzc2FnZXMiLCJtYXAiLCJtc2ciLCJzZW5kZXIiLCJ0ZXh0IiwidGltZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwiZXJyb3IiLCJtZXNzYWdlIiwiY29udGludW91cyIsImludGVyaW1SZXN1bHRzIiwib25yZXN1bHQiLCJldmVudCIsInRyYW5zY3JpcHQiLCJyZXN1bHRzIiwib25lcnJvciIsImNvbnNvbGUiLCJvbmVuZCIsInRvZ2dsZUxpc3RlbmluZyIsInN0b3AiLCJzdGFydCIsImNyZWF0ZU5ld0NoYXRTZXNzaW9uIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0aXRsZSIsIm5ld1Nlc3Npb24iLCJwcmV2IiwibG9hZENoYXRTZXNzaW9uIiwic2Vzc2lvbklkIiwic2Vzc2lvbiIsInNhdmVDaGF0TWVzc2FnZSIsImdldE1lbnRvckFkdmlzb3J5IiwidHJpbSIsInVzZXJNZXNzYWdlIiwicHJvbXB0IiwiY2hhdF9pZCIsImVycm9yRGF0YSIsImRldGFpbCIsIm1lbnRvck1lc3NhZ2UiLCJyZXNwb25zZSIsImluY2x1ZGVzIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDIiLCJidXR0b24iLCJvbkNsaWNrIiwic3BhbiIsImgxIiwicCIsImlkeCIsImlucHV0IiwidHlwZSIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0Iiwib25LZXlEb3duIiwia2V5IiwicGxhY2Vob2xkZXIiLCJkaXNhYmxlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/chat/page.tsx\n"));

/***/ })

});